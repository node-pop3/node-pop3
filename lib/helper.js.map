{"version":3,"sources":["../src/helper.mjs"],"names":["stream2String","stream","Promise","resolve","reject","buffer","Buffer","concat","length","on","_buffer","err","toString","listify","str","split","CRLF","filter","line","map"],"mappings":";;;;;;;;AAAA;;AAEO,SAASA,aAAT,CAAuBC,MAAvB,EAA+B;AACpC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAIC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAb;AADsC,mBAEvBF,MAFuB;AAAA,QAEjCG,MAFiC,YAEjCA,MAFiC;AAGtCP,IAAAA,MAAM,CAACQ,EAAP,CAAU,MAAV,EAAkB,UAACC,OAAD,EAAa;AAC7BF,MAAAA,MAAM,IAAIE,OAAO,CAACF,MAAlB;AACAH,MAAAA,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,CAACF,MAAD,EAASK,OAAT,CAAd,EAAiCF,MAAjC,CAAT;AACD,KAHD;AAIAP,IAAAA,MAAM,CAACQ,EAAP,CAAU,OAAV,EAAmB,UAACE,GAAD;AAAA,aAASP,MAAM,CAACO,GAAD,CAAf;AAAA,KAAnB;AACAV,IAAAA,MAAM,CAACQ,EAAP,CAAU,KAAV,EAAiB;AAAA,aAAMN,OAAO,CAACE,MAAM,CAACO,QAAP,EAAD,CAAb;AAAA,KAAjB;AACD,GATM,CAAP;AAUD;;AAEM,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAC3B,SAAOA,GAAG,CAACC,KAAJ,CAAUC,cAAV,EACJC,MADI,CACG,UAACC,IAAD;AAAA,WAAUA,IAAV;AAAA,GADH,EAEJC,GAFI,CAEA,UAACD,IAAD;AAAA,WAAUA,IAAI,CAACH,KAAL,CAAW,GAAX,CAAV;AAAA,GAFA,CAAP;AAGD","sourcesContent":["import { CRLF } from './constant.mjs';\n\nexport function stream2String(stream) {\n  return new Promise((resolve, reject) => {\n    let buffer = Buffer.concat([]);\n    let {length} = buffer;\n    stream.on('data', (_buffer) => {\n      length += _buffer.length;\n      buffer = Buffer.concat([buffer, _buffer], length);\n    });\n    stream.on('error', (err) => reject(err));\n    stream.on('end', () => resolve(buffer.toString()));\n  });\n}\n\nexport function listify(str) {\n  return str.split(CRLF)\n    .filter((line) => line)\n    .map((line) => line.split(' '));\n}\n"],"file":"helper.js"}