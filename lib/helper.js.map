{"version":3,"file":"helper.js","names":["stream2String","stream","Promise","resolve","reject","buffer","Buffer","concat","length","on","_buffer","err","toString","listify","str","split","CRLF","filter","line","map"],"sources":["../src/helper.mjs"],"sourcesContent":["import { CRLF } from './constant.mjs';\r\n\r\nexport function stream2String(stream) {\r\n  return new Promise((resolve, reject) => {\r\n    let buffer = Buffer.concat([]);\r\n    let {length} = buffer;\r\n    stream.on('data', (_buffer) => {\r\n      length += _buffer.length;\r\n      buffer = Buffer.concat([buffer, _buffer], length);\r\n    });\r\n    stream.on('error', (err) => reject(err));\r\n    stream.on('end', () => resolve(buffer.toString()));\r\n  });\r\n}\r\n\r\nexport function listify(str) {\r\n  return str.split(CRLF)\r\n    .filter((line) => line)\r\n    .map((line) => line.split(' '));\r\n}\r\n"],"mappings":";;;;;;;AAAA;AAEO,SAASA,aAAa,CAACC,MAAM,EAAE;EACpC,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;IACtC,IAAIC,MAAM,GAAGC,MAAM,CAACC,MAAM,CAAC,EAAE,CAAC;IAC9B,eAAeF,MAAM;MAAhBG,MAAM,YAANA,MAAM;IACXP,MAAM,CAACQ,EAAE,CAAC,MAAM,EAAE,UAACC,OAAO,EAAK;MAC7BF,MAAM,IAAIE,OAAO,CAACF,MAAM;MACxBH,MAAM,GAAGC,MAAM,CAACC,MAAM,CAAC,CAACF,MAAM,EAAEK,OAAO,CAAC,EAAEF,MAAM,CAAC;IACnD,CAAC,CAAC;IACFP,MAAM,CAACQ,EAAE,CAAC,OAAO,EAAE,UAACE,GAAG;MAAA,OAAKP,MAAM,CAACO,GAAG,CAAC;IAAA,EAAC;IACxCV,MAAM,CAACQ,EAAE,CAAC,KAAK,EAAE;MAAA,OAAMN,OAAO,CAACE,MAAM,CAACO,QAAQ,EAAE,CAAC;IAAA,EAAC;EACpD,CAAC,CAAC;AACJ;AAEO,SAASC,OAAO,CAACC,GAAG,EAAE;EAC3B,OAAOA,GAAG,CAACC,KAAK,CAACC,cAAI,CAAC,CACnBC,MAAM,CAAC,UAACC,IAAI;IAAA,OAAKA,IAAI;EAAA,EAAC,CACtBC,GAAG,CAAC,UAACD,IAAI;IAAA,OAAKA,IAAI,CAACH,KAAK,CAAC,GAAG,CAAC;EAAA,EAAC;AACnC"}